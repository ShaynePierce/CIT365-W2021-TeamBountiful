@model IEnumerable<MyMeetingManager.Models.Meeting>

@{
    ViewData["Title"] = "Meetings";
}

<h1 class="text-center">Meetings</h1>
<hr />
<p>
    <a class="btn btn-info" asp-action="Create">Add Meeting</a>
</p>

<table class="table table-sm table-responsive table-bordered table-hover">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.MeetingDate)
            </th>
            <th class="rotated">
                <div><span>Fast</span></div>
            </th>
            <th>
                <div><span>@Html.DisplayNameFor(model => model.Presiding)</span></div>
            </th>
            <th>
                <div><span>@Html.DisplayNameFor(model => model.ConductingLeader)</span></div>
            </th>
            <th class="rotated">
                <div><span>Chorister</span></div>
            </th>
            <th class="rotated">
                <div><span>Orangist</span></div>
            </th>
            <th class="rotated">
                <div><span>Announcements</span></div>
            </th>
            <th class="rotated text-center">
                <div><span>Opening Hymn</span></div>
            </th>
            <th class="rotated text-center">
                <div><span>Opening Prayer</span></div>
            </th>
            <th class="rotated text-center">
                <div><span>Rest Hymn</span></div>
            </th>
            <th class="rotated text-center">
                <div><span>Speakers</span></div>
            </th>
            <th class="rotated text-center">
                <div><span>Closing Hymn</span></div>
            </th>
            <th class="rotated text-center">
                <div><span>Closing Prayer</span></div>
            </th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr onclick="window.location='/Meetings/Details/@item.ID'">
                <td style="font-style: italic;">
                    @Html.DisplayFor(modelItem => item.MeetingDate)
                </td>
                <td class="text-center">
                    @{ if (item.FastAndTestimonyMeeting)
                        {
                            <i class="bi bi-check-square-fill"></i>
                        } 
                       }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Presiding.Salutation) @Html.DisplayFor(modelItem => item.Presiding.Name)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.ConductingLeader.Salutation) @Html.DisplayFor(modelItem => item.ConductingLeader.Name)
                </td>
                <td class="text-center">
                    @{ if (item.Announcements != null && item.Announcements.Length > 3)
                        {
                            @:<i class="bi bi-check-square-fill"></i>
                        } }
                </td>
                <td class="text-center">
                    @{ if (item.Chorister != null)
                        {
                            @:<i class="bi bi-check-square-fill"></i>
                        } }
                </td>
                <td class="text-center">
                    @{ if (item.Organist != null)
                        {
                            @:<i class="bi bi-check-square-fill"></i>
                        } }
                </td>
                <td class="text-center">
                    @{ if (item.OpeningHymn != null)
                        {
                            @:<i class="bi bi-check-square-fill"></i>
                        } }
                </td>
                <td class="text-center">
                    @{ if (item.OpeningPrayerMember != null)
                        {
                            @:<i class="bi bi-check-square-fill"></i>
                        } }
                </td>
                <td class="text-center">
                    @{ if (item.OptionalRestHymnTitle != null)
                        {
                            @:<i class="bi bi-check-square-fill"></i>
                        } }
                </td>
                <td class="text-center">
                    @{ if (item.Speakers != null)
                        {
                            @item.Speakers.Count
                        } }
                </td>
                <td class="text-center">
                    @{ if (item.ClosingHymn != null)
                        {
                            @:<i class="bi bi-check-square-fill"></i>
                        } }
                </td>
                <td class="text-center">
                    @{ if (item.ClosingPrayerMember != null)
                        {
                            @:<i class="bi bi-check-square-fill"></i>
                        } }
                </td>
                @*<td>
                        <a asp-action="Edit" asp-route-id="@item.ID">Edit</a> |
                        <a asp-action="Details" asp-route-id="@item.ID">Details</a> |
                        <a asp-action="Delete" asp-route-id="@item.ID">Delete</a>
                    </td>*@
            </tr>
        }
    </tbody>
</table>
